{"version":3,"sources":["main.coffee"],"names":[],"mappings":"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","file":"main.js","sourceRoot":"/source/","sourcesContent":["calculateSectionPositions = ()->\n  @maxTop = $('section.max').position().top\n  @convergervatop = $('section.convergerva').position().top\n  @allthingsopentop = $('section.allthingsopen').position().top\n  @transitionPadding = 0.25 * $(window).height()\n\nupdatePositionMobile = ()=>\n  output = 'top'\n  y = (@pageScroll.y * -1) + @transitionPadding\n  if y < @maxTop\n    output = 'top'\n  else if y >= @maxTop && y <= @convergervatop\n    output = 'max'\n  else if y >= @convergervatop && y <= @allthingsopentop\n    output = 'convergerva'\n  else if y >= @allthingsopentop\n    output = 'allthingsopen'\n  if !$('body').hasClass(output)\n    $('body').removeClass()\n    $('body').addClass output\nupdatePosition = ()=>\n  output = 'top'\n  console.log\n  y = $(window).scrollTop() + @transitionPadding\n  if y < @maxTop\n    output = 'top'\n  else if y >= @maxTop && y <= @convergervatop\n    output = 'max'\n  else if y >= @convergervatop && y <= @allthingsopentop\n    output = 'convergerva'\n  else if y >= @allthingsopentop\n    output = 'allthingsopen'\n  if !$('body').hasClass(output)\n    $('body').removeClass()\n    $('body').addClass output\n$ ->\n  @md = new MobileDetect(window.navigator.userAgent)\n  if @md.mobile()\n    $('#wrapper').addClass('mobile')\n    $('#scroller').addClass('mobile')\n    @pageScroll = new IScroll '#wrapper', { click: true, probeType: 3, mouseWheel: true }\n    @pageScroll.on 'scroll', updatePositionMobile\n    @pageScroll.on 'scrollEnd', updatePositionMobile\n    document.addEventListener \"touchmove\", ((e) ->\n      e.preventDefault()\n      return\n    ), false\n  else\n      window.onscroll = updatePosition\n  calculateSectionPositions()\n  window.onresize = ()->\n    calculateSectionPositions()\n  setInterval ( =>\n    @maps = $('.bottom svg')\n    for map in maps\n      map = Snap map\n      path = map.select('*')\n      smallScale = new Snap.Matrix()\n      smallScale.scale(0.8,0.8, path.getBBox().cx, path.getBBox().cy)\n      path.animate {transform: smallScale}, 2000, mina.elastic\n  ),1000\n  $('.bottom path').on \"mouseover\", (e)->\n    map = Snap e.target\n    fullScale = new Snap.Matrix()\n    fullScale.scale(1,1,map.getBBox().cx,map.getBBox().cy)\n    map.animate {transform: fullScale}, 2000, mina.elastic\n  max = Snap \"#max\"\n  g = max.group()\n  maxmap = Snap.load \"../img/max_map.svg\", (f) ->\n    prem = f.select '#prem'\n    prea = f.select '#prea'\n    prex = f.select '#prex'\n    state = f.select '#state'\n    g.append state\n    postm = f.select('#postm').attr('d')\n    posta = f.select('#posta').attr('d')\n    postx = f.select(\"#postx\").attr('d')\n    max.click ->\n      g.append(prem)\n      g.append(prea)\n      g.append(prex)\n      state.remove()\n      prem.animate {d: postm}, 1000, mina.elastic\n      prea.animate {d: posta}, 1000, mina.elastic\n      prex.animate {d: postx}, 1000, mina.elastic\n"]}